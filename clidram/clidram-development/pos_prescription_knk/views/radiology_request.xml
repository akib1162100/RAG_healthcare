<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record id="radiology_request_view_form" model="ir.ui.view">
		<field name="name">radiology.request.view.form</field>
		<field name="model">radiology.request</field>
		<field name="arch" type="xml">
			<form string="">
				<header>
					<button name="action_view_study" string="View Study" attrs="{'invisible':[('pacs_url','=',False)]}" type="object" />
					<button name="action_print_with_header" string="Print With Header" type="object" class="oe_highlight"/>
					<button name="action_print_without_header" string="Print With-Out Header" type="object" class="oe_highlight"/>
					<field name="status" widget="statusbar" options="{'clickable': '1'}" />
				</header>
				<sheet>
					<div class="oe_title">
						<h1>
							<field name="name" readonly="1" style="margin-right:10px;" />
						</h1>
					</div>
					<group>
						<group>
							<field name="patient_id" options="{'no_create': True, 'no_edit': True}" />
							<field name="physician_id" options="{'no_create': True, 'no_edit': True}" />
							<field name="patient_age" />
						</group>
						<group>
							<field name="date" />
							<field name="company_id" />
							<field name="pacs_url" />
							<field name="invoice_id" readonly="1"/>
						</group>
					</group>
					<notebook>
						<page name="request_lines" string="Request Line">
							<field name="line_ids">
								<tree editable="bottom">
									<!-- <field name="test" /> -->
									<field name="product_id" />
									<field name="special_instruction" />
									<field name="sale_price" />
								</tree>
							</field>
						</page>
						<page name="other_info" string="Other informations">
							<group>
								<group>
									<field name="procedure_product_id" attrs="{'readonly':[('status','!=','scheduled')]}"/>
								</group>
								<group>
									<field name="procedure_physician_id" attrs="{'readonly':[('status','!=','scheduled')]}"/>
								</group>
							</group>
							<!-- <field name="demo_html"/> -->
							<separator string="Technique"/>
							<field name="technique" no_label="1" />
							<separator string="Findings"/>
							<field name="findings" no_label="1" />
							<separator string="Impression"/>
							<field name="impression" no_label="1"/>
						</page>
					</notebook>
				</sheet>
				<div class="oe_chatter">
					<field name="message_follower_ids" />
					<field name="activity_ids" />
					<field name="message_ids" options="{'open_attachments': True}" />
				</div>
			</form>
		</field>
	</record>
	<record id="radiology_request_knk_view_tree" model="ir.ui.view">
		<field name="name">radiology.request.view.tree</field>
		<field name="model">radiology.request</field>
		<field name="arch" type="xml">
			<tree>
				<field name="name" />
				<field name="patient_id" />
				<field name="physician_id" />
				<field name="date" />
				<field name="invoice_id"/>
				<field name="pacs_url"/>
				<field name="status" />
				<button name="action_view_study" string="View Study" attrs="{'invisible':[('pacs_url','=',False)]}" type="object" />
			</tree>
		</field>
	</record>
	<record id="radiology_request_view_search" model="ir.ui.view">
		<field name="name">radiology.request.view.search</field>
		<field name="model">radiology.request</field>
		<field name="arch" type="xml">
			<search>
				<field name="name" string="Appointment" />
				<field name="patient_id" string="Patient" />
				<field name="physician_id" string="Physician" />
				<group expand="0" string="Group By">
					<filter string="Physician" name="physician_id" context="{'group_by': 'physician_id'}" />
					<filter string="Patient" name="patient_id" context="{'group_by': 'patient_id'}" />
				</group>
			</search>
		</field>
	</record>
	<record id="action_radiology_request" model="ir.actions.act_window">
		<field name="name">Radiology Request</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">radiology.request</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="radiology_request_view_search" />
		<field name="view_id" ref="radiology_request_knk_view_tree" />
		<field name="help" type="html">
			<p class="o_view_nocontent_smiling_face">
				No Record Found
			</p>
			<p>
				Click to add Radiology Request.
			</p>
		</field>
	</record>
</odoo>